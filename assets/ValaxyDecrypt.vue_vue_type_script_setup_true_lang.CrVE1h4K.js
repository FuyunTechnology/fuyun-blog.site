import"./chunks/@vueuse/motion.CxWjROGs.js";import{O as p,u as w}from"./app.DwejI8Fz.js";import{u as C}from"./decrypt.CiHtxKIa.js";import"./chunks/dayjs.BdcnXKr1.js";import{I as m,H as c,A as k,ac as n,af as e,ao as _,ae as v,av as g,aB as T,aj as V,ai as A,W as D,F as I,K as W,ab as r}from"./framework.DdYDmmkD.js";const B={key:0,"w-full":"","pt-14":"","pb-10":""},E={class:"decrypt-password-container w-full sm:w-1/2","flex-center":"","m-auto":"",relative:""},H={key:0,class:"-top-6",absolute:"","text-xs":"",op:"50"},N=["innerHTML"],P={key:1,class:"-bottom-6",absolute:"","text-xs":"",op:"50"},K={key:1},L=m({__name:"ValaxyDecrypt",props:{encryptedContent:{},hint:{default:""}},setup(l){const y=l,a=c(""),s=c(""),i=c(!1),{decrypt:f}=C();async function u(){const o=y.encryptedContent;if(o)try{const t=await f(a.value,o);s.value=t||"",setTimeout(()=>{p()},16)}catch(t){i.value=!0,console.error(t)}}function h(){s.value="",a.value="",setTimeout(()=>{p()},16)}const x=m({name:"ValaxyDeprecatedContent",props:{html:String},render(){const o=`<div>${this.html}</div>`;return W({setup:()=>({frontmatter:w()}),template:o})}}),b=k(()=>location.protocol!=="https:");return(o,t)=>(r(),n("div",null,[s.value?(r(),n("div",K,[D(I(x),{html:s.value},null,8,["html"]),e("div",{"w-full":"","text-center":"","mt-8":""},[e("button",{"m-auto":"",class:"btn","font-bold":"",onClick:h}," Encrypt Again ")])])):(r(),n("div",B,[e("div",E,[_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=d=>a.value=d),"w-full":"",border:"~ solid dark:dark-100","pl-5":"","pr-11":"","py-3":"","rounded-full":"","hover:shadow":"",transition:"",type:"password",placeholder:"Enter password",class:V(i.value&&"border-red"),onInput:t[1]||(t[1]=d=>i.value=!1),onKeyup:T(u,["enter"])},null,34),[[g,a.value]]),e("div",{class:"text-gray/70 hover:text-gray transition","cursor-pointer":"",absolute:"","text-2xl":"","i-ri-arrow-right-circle-line":"","right-3":"",onClick:u}),l.hint?(r(),n("div",H,[e("div",{innerHTML:l.hint},null,8,N)])):v("v-if",!0),b.value?(r(),n("div",P,[...t[2]||(t[2]=[e("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API",target:"_blank"},[e("span",null,"Web Crypto API")],-1),A(" Only works in HTTPS ",-1)])])):v("v-if",!0)])]))]))}});export{L as _};
